---
import { SITE } from 'astrowind:config';
import Image from '~/components/common/Image.astro';

// SITE.logo may be configured as an absolute site path like '/assets/images/...'
// The image utilities and Astro's asset pipeline expect local asset imports to use
// the '~/assets/...' prefix so they can be resolved by import.meta.glob. Convert
// `/assets/...` -> `~/assets/...` so the Image component's findImage() can locate it.
const rawLogo = SITE?.logo || '/assets/images/rebel-state-logo.svg';
const logoSrc = rawLogo.startsWith('/assets/') ? rawLogo.replace(/^\/assets\//, '~/assets/') : rawLogo;
---

<a class="flex items-center gap-2" href="/">
  <Image src={logoSrc} alt={`${SITE?.name} logo`} class="h-8 w-auto" width={32} height={32} layout="fixed" />
  <span class="self-center ml-2 rtl:ml-0 rtl:mr-2 text-xl md:text-lg font-bold text-gray-900 whitespace-nowrap dark:text-white">{SITE?.name}</span>
</a>
